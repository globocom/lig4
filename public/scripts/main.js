!function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){var t=e.currentTarget,n=t.getAttribute("data-section"),o=document.getElementById(n);i(o,500)}function s(){for(var e=document.getElementsByClassName("navigation-button"),t=document.getElementById("ranking-game"),n=new a(t),s=e.length-1;s>=0;s--)e[s].addEventListener("click",o);!function i(){r("/game").get(function(e,o){if(!e)return t.parentElement.removeChild(t);var s=e.result.games[Math.round(Math.random())];s.players=e.players,n.load(s).play(function(){setTimeout(i,2500)})})}()}var a=n(1),i=n(3),r=n(2);document.addEventListener("DOMContentLoaded",s)},function(e,t){"use strict";function n(e){var t=this.container=e,n=this.options={},o=this.board={},s=this.board.players={},a=this;t.className+=" game-board",n.rows=Number(e.getAttribute("data-rows"))||6,n.columns=Number(e.getAttribute("data-columns"))||7,n.interval=1e3*Number(e.getAttribute("data-interval"))||1e3,n.players=Boolean(e.getAttribute("data-score"))||!0,n.players&&(s.element=document.createElement("div"),s.element.className="game-board__players",s.guestElement=document.createElement("div"),s.guestName=document.createElement("span"),s.homeElement=document.createElement("div"),s.homeName=document.createElement("span"),s.guestElement.className="game-board__guest-player",s.homeElement.className="game-board__home-player",s.homeName.className="game-board__player-name",s.guestName.className="game-board__player-name",s.homeElement.appendChild(s.homeName),s.guestElement.appendChild(s.guestName),s.element.appendChild(s.homeElement),s.element.appendChild(s.guestElement),t.appendChild(s.element)),o.size=n.rows*n.columns,o.element=document.createElement("ul"),o.element.className="game-board__positions",o.positions=[];for(var i=0;i<o.size;i++)o.positions[i]=document.createElement("li"),o.positions[i].className="game-board__position",o.element.appendChild(o.positions[i]);return t.appendChild(o.element),{board:a.board,options:a.options,load:a.load.bind(a),play:a.play.bind(a)}}n.prototype.load=function(e){var t=this.board.positions,n=this.container,o=this.board.players;this.homePlayer=e.players[0],this.guestPlayer=e.players[1],this.move=0,this.moves=e.moves,this.sequence=e.sequence,o.homeName.innerHTML=this.homePlayer.username,o.guestName.innerHTML=this.guestPlayer.username,n.className=n.className.replace("game-board--finished","");for(var s=t.length-1;s>=0;s--)t[s].className="game-board__position";return this},n.prototype.play=function(e,t){var n=this.moves[this.move],o=n.username===this.homePlayer.username?"home-play":"guest-play",s=n.move[0],a=n.move[1];return this.timer&&clearTimeout(this.timer),t&&(this.onMove=t),e&&(this.onFinish=e),this.applyPosition(o,s,a),this.move++,this.onMove&&this.onMove(n),this.moves[this.move]?this.timer=setTimeout(this.play.bind(this),this.options.interval):(this.highlightSequence(this.sequence||[]),this.container.className+=" game-board--finished",void(this.onFinish&&this.onFinish(this)))},n.prototype.highlightSequence=function(e){var t=this.board.positions;for(var n in e){for(var o=0,s=e[n],a=-1;a<s[1];a++)o+=this.options.columns;o-=this.options.columns-s[0],t[o].className+=" game-board__position--sequence"}},n.prototype.applyPosition=function(e,t,n){for(var o=this.board.positions,s=0,a=(o.length,"game-board__position "+e),i=-1;n>i;i++)s+=this.options.columns;s-=this.options.columns-t,o[s].className=a},e.exports=n},function(e,t){function n(e){var t=new XMLHttpRequest;return{get:function(n){t.open("GET",o+e),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.addEventListener("load",function(){var e=null;t.response&&(e=JSON.parse(t.response).payload),n(e,t.status)}),t.send()},put:function(n,s){t.open("PUT",o+e),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.addEventListener("load",function(){var e=null;t.response&&(e=JSON.parse(t.response).payload),s(e,t.status)}),t.send(JSON.stringify(n))}}}var o="//"+document.location.host+"/api";e.exports=n},function(e,t){"use strict";function n(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}function o(e,t,o,s){return o>s?t:e+(t-e)*n(o/s)}function s(e){return e.getBoundingClientRect().top+window.pageYOffset}function a(e,t){function n(){var e=Date.now()-m,s=o(a,r,e,t);window.scrollTo(0,s),t>e&&i(n)}var a=(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),r=s(e),m=Date.now();return void 0===t||0===t?window.scrollTo(0,r):void n()}var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)};e.exports=a}]);